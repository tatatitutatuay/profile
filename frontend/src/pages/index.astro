---
import Card from "../components/Card.astro";
import Layout from "../layouts/Layout.astro";
import TimelineItem from "../components/TimelineItem.astro";
import Project from "../components/Project.astro";
import EXPERIENCES from "../assets/collections/experiences.json";
import PROJECTS from "../assets/collections/projects.json";
import SKILLS from "../assets/collections/skills.json";
import ACTIVITIES from "../assets/collections/activities.json";

const stylesFor = (topic: string) => {
  const found = SKILLS.find((t) => t.topic === topic);
  return (
    (found && found.style) ?? {
      gradient: "from-gray-50 to-gray-100",
      accent: "text-gray-700",
      badgeBg: "bg-gray-50/80",
    }
  );
};
---

<Layout>
  <section id="home" class="flex flex-col">
    <article class="text-gray-950 dark:text-white text-pretty mx-auto">
      <h1 class="text-4xl md:text-6xl font-bold max-w-screen-sm">
        Welcome ðŸ‘‹, I'm Thirathawat Chanakit
      </h1>
      <div class="flex flex-col gap-6 mt-8">
        <h2 class="font-bold text-xl sm:text-2xl">
          My skills and expertise include:
        </h2>
        <div class="flex flex-col sm:flex-row gap-4 overflow-hidden relative">
          <Card className="card">
            <div
              class="rounded-full p-4 grid place-content-center bg-yellow-50 text-yellow-500 dark:bg-yellow-950/30 dark:text-yellow-700 w-fit"
            >
              <svg
                class="size-8"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 512 512"
                ><path
                  d="M64 32C28.7 32 0 60.7 0 96l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 32zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0zM64 288c-35.3 0-64 28.7-64 64l0 64c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-64c0-35.3-28.7-64-64-64L64 288zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"
                ></path></svg
              >
            </div>
            <h2 class="font-semibold text-lg sm:text-xl md:text-2xl">
              Backend Development
            </h2>
            <p class="text-gray-600 text-sm sm:text-base dark:text-gray-400">
              Skilled in building server-side applications with <span
                class="text-yellow-700 dark:text-yellow-500"
                >ElysiaJS, NodeJS, Prisma, Express and Flask</span
              >. Also experienced in working with databases like
              <span class="text-yellow-700 dark:text-yellow-500"
                >PostgreSQL, MongoDB, and SQLite</span
              >.
            </p>
          </Card>
          <Card className="card">
            <div
              class="rounded-full p-4 grid place-content-center bg-blue-50 text-blue-500 dark:bg-blue-950/30 dark:text-blue-700 w-fit"
            >
              <svg
                class="size-8"
                fill="currentColor"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 640 512"
                ><path
                  d="M96 32C60.7 32 32 60.7 32 96l0 320c0 35.3 28.7 64 64 64l448 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L96 32zm48 96a48 48 0 1 1 0 96 48 48 0 1 1 0-96zm224 208c-79.5 0-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144s-64.5 144-144 144zm0-240c-53 0-96 43-96 96s43 96 96 96s96-43 96-96s-43-96-96-96z"
                ></path></svg
              >
            </div>
            <h2 class="font-semibold text-lg sm:text-xl md:text-2xl">
              Frontend Development
            </h2>
            <p class="text-gray-600 text-sm sm:text-base dark:text-gray-400">
              Proficient in creating responsive and interactive user interfaces
              using <span class="text-blue-700 dark:text-blue-500"
                >Next.js, React, Flutter, TailwindCSS</span
              >. Experienced in building web applications that provide seamless
              user experiences.
            </p>
          </Card>
        </div>
      </div>
    </article>
    <section id="about" class="flex flex-col">
      <h2
        class="text-2xl md:text-4xl font-bold text-gray-950 dark:text-white mb-8"
      >
        About Me
      </h2>
      <article class="flex flex-col md:flex-row gap-4 p-4">
        <Card className="text-gray-600 dark:text-gray-400 h-fit">
          <div class="flex flex-col gap-2 text-sm sm:text-base">
            <h3
              class="text-lg sm:text-xl font-semibold text-gray-950 dark:text-white"
            >
              My Bio
            </h3>
            <p>
              I am a Computer Engineering student specializing in backend
              development, with experience in building secure and scalable web
              applications using ElysiaJS, Prisma, Node.js, Express, and
              PostgreSQL.
            </p>
            <p>
              Currently, Iâ€™m developing backend systems for various projects
              while expanding my frontend skills.
            </p>
            <p>
              Beyond web development, Iâ€™m also exploring cloud computing,
              machine learning, artificial intelligence, and DevOps practices to
              build scalable and efficient systems.
            </p>
          </div>
          <div class="flex flex-col gap-2">
            <h3
              class="text-lg sm:text-xl font-semibold text-gray-950 dark:text-white"
            >
              Download My Resume
            </h3>
            <a
              href="/docs/resume.pdf"
              role="button"
              aria-label="Download Resume"
              download
              class="px-4 py-2 rounded-md bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-800 dark:bg-blue-700 focus:ring-4 focus:outline-hidden focus:ring-blue-200 dark:focus:ring-blue-950 text-white w-fit font-semibold"
              >Download Resume</a
            >
          </div>
        </Card>
        <Card className="p-8">
          <ol class="relative border-s border-gray-300 dark:border-neutral-800">
            {
              EXPERIENCES.map((experience) => (
                <TimelineItem
                  title={experience.company}
                  description={experience.description}
                  date={experience.dates}
                >
                  <div
                    slot="icon"
                    class="size-full p-1"
                    set:html={experience.svgIcon}
                  />
                </TimelineItem>
              ))
            }
          </ol>
        </Card>
      </article>
    </section>
    <section id="projects" class="flex flex-col">
      <h2
        class="text-2xl md:text-4xl font-bold text-gray-950 dark:text-white text-end ms-auto mb-8"
      >
        Latest Projects
      </h2>
      <div class="p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {
          PROJECTS.filter((__, i) => i < 3).map((project) => (
            <Project project={project} />
          ))
        }
      </div>
      <div class="mt-6 flex justify-center">
        <a
          role="button"
          href="/projects"
          class="font-semibold transition-colors px-4 py-2 text-base rounded-3xl bg-blue-600 hover:bg-transparent hover:border hover:border-blue-600 hover:text-blue-600 dark:bg-blue-800 text-white dark:hover:bg-transparent dark:hover:border-blue-800 dark:hover:text-blue-800 duration-300"
          >See All Projects</a
        >
      </div>
    </section>
    <section id="skills" class="flex flex-col mt-16 mb-8">
      <h2
        class="text-2xl md:text-4xl font-bold text-gray-950 dark:text-white mb-8"
      >
        My Skills
      </h2>
      <div
        id="services"
        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"
      >
        {
          SKILLS.map((skillTopic) => {
            const s = stylesFor(skillTopic.topic);
            return (
              <Card
                className={`card card-service p-6 transform transition duration-300 hover:-translate-y-1 hover:shadow-lg`}
              >
                <div class="flex flex-col">
                  <div class="flex items-center gap-4 mb-4">
                    <h3 class="text-xl sm:text-2xl md:text-3xl font-bold text-gray-950 dark:text-white">
                      {skillTopic.topic}
                    </h3>
                  </div>
                  <div class="flex flex-wrap gap-2" role="list">
                    {skillTopic.skills.map((skill) => (
                      <span
                        role="listitem"
                        class={`px-3 py-1 text-sm sm:text-base rounded-full ${s.badgeBg} ${s.accent} border border-transparent hover:scale-105 transform transition`}
                      >
                        {skill}
                      </span>
                    ))}
                  </div>
                </div>
              </Card>
            );
          })
        }
      </div>
    </section>
  </section>

  <script>
    import { animate, inView, stagger } from "motion";

    window.addEventListener("DOMContentLoaded", () => {
      inView("#services", () => {
        animate(
          ".card-service",
          {
            transform: ["translateY(100%)", "translateY(0)"],
          },
          {
            delay: stagger(0.2),
            duration: 0.6,
          }
        );
      });
    });
  </script>
</Layout>
